<!DOCTYPE html>
<html lang="fa-ir">
  <head>
  <meta charset="utf-8">
  <title>جستجوی خودکار پارامتر ها</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="theme-color" content="#f37121"/>

  <meta name="generator" content="Hugo 0.79.1" />
  
  <!-- ** CSS Plugins Needed for the Project ** -->
  
  <!-- Bootstrap -->
  <link rel="stylesheet" href="ashkanjalaliq.github.io/helli_learn/plugins/bootstrap/bootstrap.min.css">

  <!-- themefy-icon -->
  <link rel="stylesheet" href="ashkanjalaliq.github.io/helli_learn/plugins/themify-icons/themify-icons.css">

  <!--Favicon-->
  <link rel="icon" href="ashkanjalaliq.github.io/helli_learn/images/favicon.ico" type="image/x-icon">

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css?family=Vazir:300,400,700&display=swap" rel="stylesheet">
  
  <link type="text/css" rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@26.0.2/dist/font-face.css">

  <style>
  :root{
    --primary-color:#ff9c34;
    --body-color:#f9f9f9;
    --text-color:#242738;
    --text-color-dark:#242738;
    --white-color:#ffffff;
    --light-color:#f8f9fa;
    --font-family:Vazir;
  }
  </style>

<!-- Main Stylesheet -->

<link href="/ashkanjalaliq.github.io/helli_learn/css/style.min.css" rel="stylesheet" media="screen"/>
  
<!-- ** JS Plugins Needed for the Project ** -->

<!-- jquiry -->
<script src="ashkanjalaliq.github.io/helli_learn/plugins/jquery/jquery-1.12.4.js"></script>

<!-- jquary ui -->
<script src="ashkanjalaliq.github.io/helli_learn/plugins/jquery/jquery-ui.js"></script>

<!-- Bootstrap JS -->
<script src="ashkanjalaliq.github.io/helli_learn/plugins/bootstrap/bootstrap.min.js"></script>

<!-- match-height JS -->
<script src="ashkanjalaliq.github.io/helli_learn/plugins/match-height/jquery.matchHeight-min.js"></script>


  

  <!-- create /layouts/partials/overrides/header.html in your own theme or root directory to add your custom content here -->


</head>

  
  <body>
    
    <!-- header -->
    <header class="shadow-bottom sticky-top bg-white">
      <nav class="navbar navbar-expand-md navbar-light">
  <div dir="rtl" class="container">
    <a class="navbar-brand px-2" href="/ashkanjalaliq.github.io/helli_learn">
      
      
      
      
      
    </a>
    <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon" style="background-color: rgba(168, 168, 168, 0.507);"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        
      </ul>
      
    </div>
  </div>
</nav>

    </header>
    <!-- /header -->
    
    

<!-- details page -->
<section class="single section-sm pb-0">
  <div  class="container">
    <div class="row">
      <div class="col-lg-3">
        <div   class="sidebar">
          <ul class="list-styled">
            
            <a class="back-btn" href="/ashkanjalaliq.github.io/helli_learn"></a>
            
              
              








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/" title="شروع به کار" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/">
    شروع به کار
  </a>
  
  
    <ul>
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/fitting-and-predicting_-estimator-basics/" title="برازش و پیش بینی: اصول برآوردگر" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/fitting-and-predicting_-estimator-basics/">
    برازش و پیش بینی: اصول برآوردگر
  </a>
  
  
</li>


        
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/transformers-and-preprocessors/" title="ترانسفورماتور ها و پیش پردازنده ها" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/transformers-and-preprocessors/">
    ترانسفورماتور ها و پیش پردازنده ها
  </a>
  
  
</li>


        
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/pipelines_-chaining-pre-processors-and-estimators/" title="پایپ لاین ها: پیش پردازنده های زنجیره ای و برآوردگر ها" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/pipelines_-chaining-pre-processors-and-estimators/">
    پایپ لاین ها: پیش پردازنده های زنجیره ای و برآوردگر ها
  </a>
  
  
</li>


        
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/model-evaluation/" title="ارزیابی مدل" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/model-evaluation/">
    ارزیابی مدل
  </a>
  
  
</li>


        
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/automatic-parameter-searches/" title="جستجوی خودکار پارامتر ها" class="sidelist
  active">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/automatic-parameter-searches/">
    جستجوی خودکار پارامتر ها
  </a>
  
  
</li>


        
      
        
          








<li data-nav-id="ashkanjalaliq.github.io/helli_learn/getting-started/next-steps/" title="مراحل بعدی" class="sidelist
  ">
  <a href="ashkanjalaliq.github.io/helli_learn/getting-started/next-steps/">
    مراحل بعدی
  </a>
  
  
</li>


        
      
    </ul>
  
</li>


              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          </ul>
        </div>
      </div>
      <div class="col-lg-9">
        <div class="p-lg-5 p-4 bg-white">
          <h2  dir="rtl" align="right" class="mb-5">جستجوی خودکار پارامتر ها</h2>
          
          <div dir="rtl" align="right" class="content"><p>همه برآوردگرها دارای پارامترهایی هستند (که در ادبیات اغلب به آنها hyper-parameter یا  اَبَرپارامتر گفته می‌شود) كه می توانند تنظیم شوند.</p>
<p>قدرت تعمیم یک برآوردگر اغلب به چند پارامتر بستگی دارد.
به عنوان مثال یک
<a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html#sklearn.ensemble.RandomForestRegressor">RandomForestRegressor</a>
دارای یک پارامتر <code>n_estimators</code> است که تعداد درختان در جنگل را تعیین می‌کند،
و یک پارامتر <code>max_depth</code> که حداکثر عمق هر درخت را تعیین می‌کند.
اغلب اوقات، مشخص نیست که مقادیر دقیق این پارامترها باید چه باشد، زیرا آنها به داده های موجود بستگی دارند.</p>
<p><code>Scikit-learn</code> ابزارهایی را برای یافتن خودکار بهترین ترکیبات پارامترها (از طریق اعتبار سنجی متقابل) فراهم می‌کند.
در مثال زیر، ما به طور تصادفی در فضای پارامتر یک جنگل تصادفی توسط یک شی
<a href="https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV">RandomizedSearchCV</a>
جستجو می‌کنیم.</p>
<p>وقتی جستجو به پایان رسید
<a href="https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV">RandomizedSearchCV</a>
به عنوان
<a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html#sklearn.ensemble.RandomForestRegressor">RandomForestRegressor</a>
رفتار می‌کند که با بهترین مجموعه پارامترها مجهز شده است.
در
<a href="https://scikit-learn.org/stable/modules/grid_search.html#grid-search">راهنمای کاربر</a>
بیشتر بخوانید:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> fetch_california_housing
<span style="color:#f92672">from</span> sklearn.ensemble <span style="color:#f92672">import</span> RandomForestRegressor
<span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> RandomizedSearchCV
<span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split
<span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> randint

X, y <span style="color:#f92672">=</span> fetch_california_housing(return_X_y<span style="color:#f92672">=</span>True)
X_train, X_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(X, y, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)

<span style="color:#75715e"># define the parameter space that will be searched over</span>
param_distributions <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;n_estimators&#39;</span>: randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>),
                       <span style="color:#e6db74">&#39;max_depth&#39;</span>: randint(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>)}

<span style="color:#75715e"># now create a searchCV object and fit it to the data</span>
search <span style="color:#f92672">=</span> RandomizedSearchCV(estimator<span style="color:#f92672">=</span>RandomForestRegressor(random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>),
                            n_iter<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>,
                            param_distributions<span style="color:#f92672">=</span>param_distributions,
                            random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
search<span style="color:#f92672">.</span>fit(X_train, y_train)

search<span style="color:#f92672">.</span>best_params_

<span style="color:#75715e"># the search object now acts like a normal random forest estimator</span>
<span style="color:#75715e"># with max_depth=9 and n_estimators=4</span>
search<span style="color:#f92672">.</span>score(X_test, y_test)
</code></pre></div>

<div class="notices note" ><p>توجه:
در عمل، تقریباً همیشه می‌خواهید به جای یک برآوردگر تنها،
<a href="https://scikit-learn.org/stable/modules/grid_search.html#composite-grid-search">در یک پایپ لاین جستجو کنید.</a>
یکی از دلایل اصلی این است که اگر یک مرحله پیش پردازش را بدون استفاده از پایپ لاین در کل مجموعه داده اعمال کنید و سپس هر نوع اعتبار سنجی متقابل را انجام دهید،
شما فرضیه اساسی استقلال بین داده های آموزش و آزمون را خواهید شکست.
در واقع، از آنجا که داده ها را با استفاده از کل مجموعه داده پیش پردازش کرده اید، برخی از اطلاعات مربوط به مجموعه های آزمون در دسترس مجموعه های آموزش است.
این امر منجر به تخمین بیش از حدی برای قدرت تعمیم برآوردگر می‌شود (می‌توانید اطلاعات بیشتر را در این <a href="https://www.kaggle.com/alexisbcook/data-leakage">پست Kaggle</a> دریافت کنید).
استفاده از خط لوله برای اعتبار سنجی متقابل و جستجو تا حد زیادی شما را از دام این تله دور می‌کند.</p></div>

</div>
          
          <p class="post-meta border-bottom pb-3 mb-0 mt-3">Updated on 28 Dec 2020</p>
          <nav class="pagination mt-3">
            
            
            
            
            
            
            
            
            
            

            
            
            
            
            

            
            
            
            
            
            
            
            
            

            
            
            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            
            
            
            
            

            
            
            

            
            
            
            
            
            
            

            
            <a class="nav nav-prev" href="ashkanjalaliq.github.io/helli_learn/getting-started/model-evaluation/"><i class="ti-arrow-left mr-2"></i> <span class="d-none d-md-block">ارزیابی مدل</span></a>
            
            
            <a class="nav nav-next" href="ashkanjalaliq.github.io/helli_learn/getting-started/next-steps/"> <span class="d-none d-md-block">مراحل بعدی</span><i class="ti-arrow-right ml-2"></i></a>
            
          </nav>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- /details page -->





    <!-- footer -->
<footer class="section pb-4">
  <div dir="rtl" class="container">
    <div class="row align-items-center">
      <div class="col-md-8 text-md-left text-md-right">
       <p class="mb-md-0 mb-4"></p>
      </div>
      <div class="col-md-4 text-md-left text-center">
        <ul class="list-inline">
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-instagram"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-twitter-alt"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="https://github.com/ashkanjalaliq/helli_learn"><i class="ti-github"></i></a></li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
<!-- /footer -->

<!-- Main Script -->

<script src="/ashkanjalaliq.github.io/helli_learn/js/script.min.js"></script>
  </body>

</html>